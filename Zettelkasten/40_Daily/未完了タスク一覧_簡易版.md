---
tags:
  - daily
  - task-management
  - javascript
creation-date: 2025-07-18
---

# æœªå®Œäº†ã‚¿ã‚¹ã‚¯ä¸€è¦§ï¼ˆç°¡æ˜“ç‰ˆï¼‰

## å…¨ãƒ‡ã‚¤ãƒªãƒ¼ãƒãƒ¼ãƒˆã®æœªå®Œäº†ã‚¿ã‚¹ã‚¯

```dataviewjs
// å…¨ãƒ‡ã‚¤ãƒªãƒ¼ãƒãƒ¼ãƒˆã‚’å–å¾—
const dailyNotes = dv.pages('#daily').sort(p => p.file.name, 'desc');

// æœªå®Œäº†ã‚¿ã‚¹ã‚¯ã‚’æ ¼ç´ã™ã‚‹é…åˆ—
let allIncompleteTasks = [];

// å„ãƒ‡ã‚¤ãƒªãƒ¼ãƒãƒ¼ãƒˆã‚’å‡¦ç†
for (let note of dailyNotes) {
    // ãƒ•ã‚¡ã‚¤ãƒ«ã®å†…å®¹ã‚’å–å¾—
    const content = await dv.io.load(note.file.path);
    const lines = content.split('\n');
    
    const incompleteTasks = [];
    let inTodoSection = false;
    
    for (let line of lines) {
        // TODOã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®é–‹å§‹ã‚’æ¤œå‡º
        if (line.trim() === '## TODO' || line.trim() === '## âœ… ã‚¿ã‚¹ã‚¯ãƒªã‚¹ãƒˆ') {
            inTodoSection = true;
            continue;
        }
        
        // æ¬¡ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ãŒå§‹ã¾ã£ãŸã‚‰TODOã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’çµ‚äº†
        if (inTodoSection && line.trim().startsWith('## ')) {
            inTodoSection = false;
            continue;
        }
        
        // TODOã‚»ã‚¯ã‚·ãƒ§ãƒ³å†…ã§æœªå®Œäº†ã‚¿ã‚¹ã‚¯ã‚’æ¤œå‡º
        if (inTodoSection && line.trim().startsWith('- [ ]')) {
            const taskText = line.trim().substring(4).trim();
            if (taskText) {
                incompleteTasks.push(taskText);
            }
        }
    }
    
    if (incompleteTasks.length > 0) {
        allIncompleteTasks.push({
            date: note.file.name,
            tasks: incompleteTasks,
            link: note.file.link
        });
    }
}

// çµæœã‚’è¡¨ç¤º
if (allIncompleteTasks.length === 0) {
    dv.header(3, "ğŸ‰ æœªå®Œäº†ã‚¿ã‚¹ã‚¯ã¯ã‚ã‚Šã¾ã›ã‚“ï¼");
} else {
    dv.header(3, `ğŸ“‹ æœªå®Œäº†ã‚¿ã‚¹ã‚¯ä¸€è¦§ (${allIncompleteTasks.length}æ—¥åˆ†)`);
    
    for (let day of allIncompleteTasks) {
        dv.header(4, `${day.date} (${day.tasks.length}ä»¶)`);
        dv.list(day.tasks.map(task => task));
        dv.paragraph(`è©³ç´°: ${day.link}`);
        dv.paragraph("---");
    }
}
```

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆ¥åˆ†é¡

```dataviewjs
// å…¨ãƒ‡ã‚¤ãƒªãƒ¼ãƒãƒ¼ãƒˆã‚’å–å¾—
const dailyNotes = dv.pages('#daily').sort(p => p.file.name, 'desc');

// å…¨æœªå®Œäº†ã‚¿ã‚¹ã‚¯ã‚’æ ¼ç´
let allTasks = [];

// å„ãƒ‡ã‚¤ãƒªãƒ¼ãƒãƒ¼ãƒˆã‚’å‡¦ç†
for (let note of dailyNotes) {
    const content = await dv.io.load(note.file.path);
    const lines = content.split('\n');
    
    let inTodoSection = false;
    
    for (let line of lines) {
        if (line.trim() === '## TODO' || line.trim() === '## âœ… ã‚¿ã‚¹ã‚¯ãƒªã‚¹ãƒˆ') {
            inTodoSection = true;
            continue;
        }
        
        if (inTodoSection && line.trim().startsWith('## ')) {
            inTodoSection = false;
            continue;
        }
        
        if (inTodoSection && line.trim().startsWith('- [ ]')) {
            const taskText = line.trim().substring(4).trim();
            if (taskText) {
                allTasks.push(taskText);
            }
        }
    }
}

// ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆ¥ã«åˆ†é¡
const categories = {};

for (let task of allTasks) {
    const tags = task.match(/#[^\s]+/g) || [];
    
    if (tags.length > 0) {
        for (let tag of tags) {
            if (!categories[tag]) {
                categories[tag] = [];
            }
            categories[tag].push(task.replace(/#[^\s]+/g, '').trim());
        }
    } else {
        if (!categories['#æœªåˆ†é¡']) {
            categories['#æœªåˆ†é¡'] = [];
        }
        categories['#æœªåˆ†é¡'].push(task);
    }
}

// çµæœã‚’è¡¨ç¤º
if (Object.keys(categories).length === 0) {
    dv.header(3, "ğŸ“‚ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆ¥åˆ†é¡");
    dv.paragraph("åˆ†é¡å¯èƒ½ãªã‚¿ã‚¹ã‚¯ãŒã‚ã‚Šã¾ã›ã‚“ã€‚");
} else {
    dv.header(3, "ğŸ“‚ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆ¥åˆ†é¡");
    
    for (let [category, tasks] of Object.entries(categories)) {
        dv.header(4, `${category} (${tasks.length}ä»¶)`);
        dv.list(tasks);
        dv.paragraph("---");
    }
}
```

## ä½¿ç”¨èª¬æ˜

ã“ã®ç°¡æ˜“ç‰ˆã¯ä»¥ä¸‹ã®ç‰¹å¾´ãŒã‚ã‚Šã¾ã™ï¼š

1. **`dv.io.load()`ã‚’ä½¿ç”¨**: ã‚ˆã‚Šç¢ºå®Ÿã«ãƒ•ã‚¡ã‚¤ãƒ«å†…å®¹ã‚’å–å¾—
2. **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**: å„ãƒ•ã‚¡ã‚¤ãƒ«ã®å‡¦ç†ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¦ã‚‚ç¶™ç¶š
3. **ã‚·ãƒ³ãƒ—ãƒ«ãªæ§‹é€ **: è¤‡é›‘ãªé–¢æ•°å®šç¾©ã‚’é¿ã‘ã¦ç›´æ¥å‡¦ç†

### æ³¨æ„äº‹é …

- DataviewJSãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãŒå¿…è¦ã§ã™
- ãƒ•ã‚¡ã‚¤ãƒ«ã®èª­ã¿è¾¼ã¿ã«æ™‚é–“ãŒã‹ã‹ã‚‹å ´åˆãŒã‚ã‚Šã¾ã™
- å¤§é‡ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚ã‚‹å ´åˆã¯å‡¦ç†ãŒé‡ããªã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ 