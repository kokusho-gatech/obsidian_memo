---
tags:
  - 書類重複確認削減Pj
  - プロジェクト要件
  - ドラフトチェックページ
creation-date: "20250730"
---

# 書類重複確認削減プロジェクト - ドラフトチェックページ対応版

## プロジェクト概要

### 目的
Acquisition事業部内の各部署での同一書類に関する重複確認を削減し、業務効率化を図る。

### 対象部署
- Contract（契約書作成チーム）
- Settlement（決済チーム）
- Document/Main Document/Maisoku（マイソク作成チーム）
- Succession（承継チーム）

## 対応方針

ドラフトチェックページを活用して書類重複確認を削減する方針で検討。

## 機能要件分析

### 対応要否の判定基準
- **◎**: 対応不要
- **◯**: 現状対応不要（将来的に必要になる可能性あり）
- **△**: 対応必要
- **✖️**: 対応必須

### 主要機能の対応要否

| 機能                | 対応要否 | 備考                                                                         |
| ----------------- | ---- | -------------------------------------------------------------------------- |
| **書類転記画面**        |      |                                                                            |
| 書類の種別選択           | ◯    | 6種類のみの場合対応不要。追加時はテーブル・ビュー調整が必要                                             |
| 書類のバージョン選択        | △    | バージョン管理を行わない場合は対応不要                                                        |
| 書面のグラフィカル表示       | ◎    | 対応不要                                                                       |
| 書類の転記入力欄と保存処理     | ◯    | 現状項目のみなら対応不要。追加時はデータカラム・ビュー調整が必要                                           |
| 前回確定情報の表示機能       | △    | バージョン管理を行わない場合は対応不要                                                        |
| 確定申請/承認機能         | ✖️   | **対応必須** - 現状はステータス単一選択のみ<br>- 一定権限以上のユーザーのみ確定可能<br>- 承認・確定フェーズではデータロックを実施 |
| 書類紐付け             | △    | 案件ベースの情報保持なら対応不要                                                           |
| 過去書類の情報をコピー       | △    | バージョン管理を行わない場合は対応不要                                                        |
| OCR読み取り結果の入力補助    | ◯    | 現状項目のみなら対応不要。項目追加時は対応必要                                                    |
| **ドラフトチェックページ改修** |      |                                                                            |
| 書類情報の引用表示         | ◎    | 対応不要                                                                       |
| 書類情報画面への遷移        | ◎    | 対応不要                                                                       |
| **その他画面からの遷移**    |      |                                                                            |
| ファイルチェックページからの遷移  | ◎    | 対応不要                                                                       |
| 一致比較info表示からの遷移   | ◎    | 対応不要                                                                       |
|                   |      |                                                                            |

### 確定申請/承認機能の詳細要件
- 一定権限以上のユーザーのみ確定可能
- 承認・確定フェーズではデータロックを実施

## 開発工数分析

### Case1: 最小機能版（推奨）
**方針**: バージョン管理機能なし、書類間リレーションなし

| 機能             | 工数  |
| -------------- | --- |
| 書類の種別選択        | 小   |
| 書類のバージョン選択     | 大   |
| 書面のグラフィカル表示    | 小   |
| 書類の転記入力欄と保存処理  | 中   |
| 前回確定情報の表示機能    | 中   |
| 書類紐付け          | 大   |
| 過去書類の情報をコピー    | 小   |
| OCR読み取り結果の入力補助 | 中   |
| ドラフトチェックページ改修  | 中   |
| その他画面からの遷移     | 小   |

**合計削減工数**: 大×2 + 中×4 + 小×4

### Case2: フル機能版
**方針**: バージョン管理・書類紐付けを含む当初要件を実現

| 機能 | 工数 | 対応状況 |
|------|------|----------|
| 書類の種別選択 | 小 | 対応不要 |
| 書面のグラフィカル表示 | 小 | 対応不要 |
| 書類の転記入力欄と保存処理 | 中 | 対応不要 |
| OCR読み取り結果の入力補助 | 中 | 対応不要 |
| ドラフトチェックページ改修 | 中 | 対応不要 |
| その他画面からの遷移 | 小 | 対応不要 |

**合計削減工数**: 中×3 + 小×3

## インパクト分析

### 制約事項
- コントラクトチームが確認している項目のみに限定

### 対象項目数の減少数

| チーム         | BEFORE    | AFTER    | 減少数      |
| ----------- | --------- | -------- | -------- |
| マイソク作成チーム   | 20項目      | 6項目      | 14項目     |
| 契約書作成チーム    | 80項目      | 16項目     | 64項目     |
| 決済（FLOWユーザ） | 15項目      | 10項目     | 5項目      |
| 承継（MNGユーザ）  | 25項目      | 14項目     | 11項目     |
| **合計**      | **140項目** | **46項目** | **94項目** |
|             |           |          |          |

### 想定される効果
- **削減項目数**: 94項目
- **年間削減人件費**: 460万円
  （1項目あたりの削減効果: 11.5万円）

## 推奨事項

1. **Case1（最小機能版）を採用**
   - 工数削減効果が最大
   - 必要最小限の機能で早期実現可能

2. **段階的実装を検討**
   - 1stフェーズ: 確定申請/承認機能のみ実装
   - 2ndフェーズ以降: 必要に応じて機能追加


## リスク・課題

- コントラクトチーム以外の項目は対象外となるため、完全な重複削減は困難
- 将来的な機能拡張時の影響範囲の検討が必要

```dataviewjs
dv.header(3, "関連ノート");
var maxLoop = Math.min(dv.current().file.tags.length, 3);
for(let i=0;i<maxLoop;i++){
dv.span(dv.current().file.tags[i]);
dv.list(dv.pages(dv.current().file.tags[i]).sort(f=>f.file.mtime.ts,"desc").limit(15).file.link);
}

for (let outgo of dv.pages('outgoing([[' + dv.current().file.name + ']])')) {
    dv.header(4, outgo.file.name);
    dv.list(outgo.file.inlinks.sort());
}

// バックリンクがあるノートも出力
let backlinks = dv.pages().where(p => p.file.inlinks && p.file.inlinks.map(l=>l.path).includes(dv.current().file.path));
if (backlinks.length > 0) {
    dv.header(3, "このノートへのバックリンク");
    dv.list(backlinks.file.link);
}
